%% Enhanced security-guide_diagram_3.mmd with better fonts and colors
%% Generated by enhance_mermaid_diagrams.py

graph TB
    subgraph "ðŸ’¼ Layer 7: Business Logic"
        A["ðŸ¤– AI Application"]
        B["ðŸ’¼ Business Rules"]
    end
    
    subgraph "ðŸ”’ Layer 6: Application Security"
        C["Input Validation"]
        D["Prompt Sanitization"]
        E["Output Filtering"]
    end
    
    subgraph "ðŸ¤– Layer 5: AI Model Security"
        F["ðŸŽ¯ Model Watermarking"]
        G["ðŸ§ª Adversarial Testing"]
        H["Safety Filters"]
    end
    
    subgraph "ðŸ“Š Layer 4: Data Security"
        I["ðŸ“Š Data Encryption"]
        J["PII Detection"]
        K["Access Controls"]
    end
    
    subgraph "ðŸ”’ Layer 3: Network Security"
        L["ðŸ”Œ API Gateway"]
        M["Rate Limiting"]
        N["DDoS Protection"]
    end
    
    subgraph "ðŸ”’ Layer 2: Infrastructure Security"
        O["ðŸ¤– Container Security"]
        P["Secrets Management"]
        Q["ðŸŒ Network Segmentation"]
    end
    
    subgraph "ðŸ”’ Layer 1: Physical Security"
        R["ðŸ“Š Data Center Security"]
        S["ðŸ”’ Hardware Security"]
    end
    
    A --> C
    C --> F
    F --> I
    I --> L
    L --> O
    O --> R
    
    style A fill:#e3f2fd
    style C fill:#e8f5e8
    style F fill:#fff3e0
    style I fill:#ffebee
    style L fill:#f3e5f5
    style O fill:#f1f8e9
    style R fill:#e0f2f1

classDef primary fill:#e8f4fd,stroke:#1976d2,stroke-width:3px,color:#0d47a1,font-size:14px,font-weight:bold
classDef secondary fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px,color:#4a148c,font-size:13px,font-weight:bold
classDef success fill:#e8f5e8,stroke:#388e3c,stroke-width:3px,color:#1b5e20,font-size:13px,font-weight:bold
classDef warning fill:#fff3e0,stroke:#f57c00,stroke-width:3px,color:#e65100,font-size:13px,font-weight:bold
classDef danger fill:#ffebee,stroke:#c62828,stroke-width:3px,color:#b71c1c,font-size:13px,font-weight:bold
classDef info fill:#e0f2f1,stroke:#00695c,stroke-width:3px,color:#004d40,font-size:13px,font-weight:bold
classDef light fill:#fff8e1,stroke:#fbc02d,stroke-width:3px,color:#f57f17,font-size:13px,font-weight:bold